<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/common :: head('Flashcards')}">
    <title>Flashcards</title>
</head>
<body>

<link rel="stylesheet" th:href="@{/css/study.css}">
<div th:replace="~{fragments/common :: blobs}"></div>

<div class="top-nav"><a href="/" class="btn-modern">â† Menu</a></div>
<button class="btn-modern" onclick="toggleTheme()" id="themeBtn"
        style="position: absolute; top: 20px; right: 20px; z-index: 10; width: 45px; height: 45px; padding: 0; display: flex; align-items: center; justify-content: center; font-size: 1.2rem;">
    ğŸŒ™
</button>

<div class="scene" onclick="flip()">
    <div class="card-inner">
        <div class="card-face front">
            <div class="badge-topic" id="topic">TOPIC</div>
            <h3 class="fw-bold lh-base" id="qText" style="font-size: 1.75rem;">Loading...</h3>
            <div class="mt-4" style="color: var(--text-muted); font-size: 0.9rem;">Click to flip â†»</div>
        </div>
        <div class="card-face back">
            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ’¡</div>
            <h2 class="fw-bold mb-3" id="ansKey" style="font-size: 2.5rem;">A</h2>
            <p id="ansText" class="opacity-90 fs-5">Answer text here</p>
        </div>
    </div>
</div>

<div class="mt-4" style="font-family: 'JetBrains Mono'; color: var(--text-muted);">
    Card <span id="idx">1</span> of <span id="total">0</span>
</div>

<div class="controls">
    <button class="btn-ctrl" onclick="nav(-1)"><span>â†</span> Prev</button>
    <button class="btn-ctrl" onclick="nav(1)">Next <span>â†’</span></button>
</div>

<script th:replace="~{fragments/common :: scripts}"></script>

<script th:inline="javascript">
    const StudyConfig = {
        questions: [[${questions}]]
    };
</script>

<script th:src="@{/js/study-cards.js}"></script>
</body>
</html>